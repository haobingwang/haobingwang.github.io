<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />











  
  
  <link href="/libs/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/libs/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="mongodb," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="常用操作新增字段并设置默认值1234# 例如新增 deleted 字段，默认值为 falsedb.staffs.update(&amp;#123;&amp;#125;,&amp;#123;$set:&amp;#123;deleted:false&amp;#125;&amp;#125;,false,true)# 将所有员工生日定义为同一天db.staffs.update(&amp;#123;&amp;#125;,&amp;#123;$set:&amp;#123;birthday">
<meta property="og:type" content="article">
<meta property="og:title" content="mongodb">
<meta property="og:url" content="http://haobing.wang/2016/07/06/mongodb.html">
<meta property="og:site_name" content="王浩冰">
<meta property="og:description" content="常用操作新增字段并设置默认值1234# 例如新增 deleted 字段，默认值为 falsedb.staffs.update(&amp;#123;&amp;#125;,&amp;#123;$set:&amp;#123;deleted:false&amp;#125;&amp;#125;,false,true)# 将所有员工生日定义为同一天db.staffs.update(&amp;#123;&amp;#125;,&amp;#123;$set:&amp;#123;birthday">
<meta property="og:updated_time" content="2017-03-08T04:29:08.629Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mongodb">
<meta name="twitter:description" content="常用操作新增字段并设置默认值1234# 例如新增 deleted 字段，默认值为 falsedb.staffs.update(&amp;#123;&amp;#125;,&amp;#123;$set:&amp;#123;deleted:false&amp;#125;&amp;#125;,false,true)# 将所有员工生日定义为同一天db.staffs.update(&amp;#123;&amp;#125;,&amp;#123;$set:&amp;#123;birthday">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://haobing.wang/2016/07/06/mongodb.html"/>


  <title> mongodb | 王浩冰 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-80189438-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?abbbb302d25b6fcf3d2dad737df52139";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <div style="display: none;">
    <script src="//s6.cnzz.com/stat.php?id=1259577898&web_id=1259577898" type="text/javascript"></script>
  </div>





  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">王浩冰</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                mongodb
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-06T22:54:44+08:00" content="2016-07-06">
              2016-07-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/06/mongodb.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/06/mongodb.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><h3 id="新增字段并设置默认值"><a href="#新增字段并设置默认值" class="headerlink" title="新增字段并设置默认值"></a>新增字段并设置默认值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 例如新增 deleted 字段，默认值为 false</div><div class="line">db.staffs.update(&#123;&#125;,&#123;$set:&#123;deleted:false&#125;&#125;,false,true)</div><div class="line"># 将所有员工生日定义为同一天</div><div class="line">db.staffs.update(&#123;&#125;,&#123;$set:&#123;birthday:&apos;1991-11-26T02:17:23.000Z&apos;&#125;&#125;,false,true)</div></pre></td></tr></table></figure>
<h3 id="查询-count"><a href="#查询-count" class="headerlink" title="查询 count"></a>查询 count</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">db.staffs.count(&#123;deleted: false&#125;)</div></pre></td></tr></table></figure>
<h2 id="数据查询"><a href="#数据查询" class="headerlink" title="数据查询"></a>数据查询</h2><h3 id="Making-queries-with-find"><a href="#Making-queries-with-find" class="headerlink" title="Making queries with find()"></a>Making queries with find()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">collection.find(query[[[, fields], options], callback]);</div></pre></td></tr></table></figure>
<ul>
<li>collection.find(query, callback);</li>
<li>collection.find(query, options, callback);</li>
<li>collection.find(query, fields, options, callback);</li>
</ul>
<p>Where</p>
<ul>
<li>query - is a query object, defining the conditions the documents need to apply</li>
<li>fields - indicates which fields should be included in the response (default is all)</li>
<li>options - defines extra logic (sorting options, paging etc.)</li>
<li>raw - driver returns documents as bson binary Buffer objects, default:false</li>
<li>callback has two parameters - an error object (if an error occured) and a cursor object.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">collection.find(&#123;&#125;,&#123;<span class="attr">name</span>: <span class="literal">true</span>, <span class="attr">title</span>: <span class="literal">true</span>&#125;,)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">collection.find(&#123;<span class="string">"books.year"</span>:<span class="number">1714</span>&#125;)</div><div class="line"></div><div class="line">collection.findOne(&#123;<span class="attr">_id</span>: doc_id&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, document</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">document</span>.name);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="AND"><a href="#AND" class="headerlink" title="AND"></a>AND</h3><p>当 find() 中传入多个键值对时，MongoDB就会将其作为 AND 查询处理。用法：</p>
<p>db.mycol.find({ key1: value1, key2: value2 }).pretty()</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; db.post.find(&#123;&quot;by&quot;:&quot;shiyanlou&quot;,&quot;title&quot;: &quot;MongoDB Overview&quot;&#125;).pretty()</div></pre></td></tr></table></figure>
<h3 id="OR"><a href="#OR" class="headerlink" title="OR"></a>OR</h3><p>MongoDB中，OR 查询语句以 $or 作为关键词，用法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; db.post.find(</div><div class="line">   &#123;</div><div class="line">      $or: [</div><div class="line">         &#123;key1: value1&#125;, &#123;key2:value2&#125;</div><div class="line">      ]</div><div class="line">   &#125;</div><div class="line">).pretty()</div></pre></td></tr></table></figure>
<h3 id="同时使用-AND-和-OR"><a href="#同时使用-AND-和-OR" class="headerlink" title="同时使用 AND 和 OR"></a>同时使用 AND 和 OR</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; db.post.find(&#123;</div><div class="line">    &quot;likes&quot;: &#123;$gt:10&#125;,</div><div class="line">    $or: [</div><div class="line">        &#123;&quot;by&quot;: &quot;shiyanlou&quot;&#125;,</div><div class="line">        &#123;&quot;title&quot;: &quot;MongoDB Overview&quot;&#125;</div><div class="line">    ]</div><div class="line">&#125;).pretty()</div></pre></td></tr></table></figure>
<h2 id="Mac-OS-安装-mongodb"><a href="#Mac-OS-安装-mongodb" class="headerlink" title="Mac OS 安装 mongodb"></a>Mac OS 安装 mongodb</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">brew update</div><div class="line">brew install mongodb</div></pre></td></tr></table></figure>
<p>在启动 MongoDB 之前，需要创建一个用来存储 MongoDB 数据的目录。MongoDB 数据的默认存放位置是 <code>/data/db</code> （也需要手动创建）目录下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">To have launchd start mongodb now and restart at login:</div><div class="line">  brew services start mongodb</div><div class="line">Or, if you don&apos;t want/need a background service you can just run:</div><div class="line">  mongod --config /usr/local/etc/mongod.conf</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo mkdir -p /data/db</div><div class="line">mongod --dbpath /data/db</div><div class="line">mongod</div></pre></td></tr></table></figure>
<p>也可以更改为其它地方，比如说当前用户目录下，新建一个 data/db 目录用来存放 MongoDB 的数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd ~</div><div class="line">mkdir -p data/db</div><div class="line">mongod --dbpath ~/data/db</div></pre></td></tr></table></figure>
<p>查看帮助文档</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod -h</div></pre></td></tr></table></figure>
<p><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank" rel="external">安装文档</a></p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"># 进入 mongo shell</div><div class="line">mongo</div><div class="line"></div><div class="line"># 辅助命令</div><div class="line">db.help();</div><div class="line">db.getName();</div><div class="line"></div><div class="line"># 切换/创建数据库</div><div class="line">use site # 对应 export MONGO_URL=mongodb://localhost:27017/site</div><div class="line"></div><div class="line">db.createCollection(&apos;users&apos;);</div><div class="line">db.users.insert(&#123; name: &apos;peter&apos; &#125;);</div><div class="line">db.users.find();</div><div class="line"></div><div class="line"># 退出 mongo</div><div class="line">exit</div></pre></td></tr></table></figure>
<h2 id="清空集合"><a href="#清空集合" class="headerlink" title="清空集合"></a>清空集合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">db.rules.remove(&#123;&#125;)</div></pre></td></tr></table></figure>
<h2 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo service mongod start</div><div class="line">sudo service mongod stop</div><div class="line">sudo service mongod restart</div></pre></td></tr></table></figure>
<h2 id="用户及密码"><a href="#用户及密码" class="headerlink" title="用户及密码"></a>用户及密码</h2><p>MongoDB协议</p>
<h2 id="Adjusting-the-Firewall"><a href="#Adjusting-the-Firewall" class="headerlink" title="Adjusting the Firewall"></a>Adjusting the Firewall</h2><p>To allow access to MongoDB on its default port <code>27017</code> from everywhere, you could use <code>sudo ufw allow 27017</code>. However, enabling internet access to MongoDB server on a default installation gives unrestricted access to the whole database server.</p>
<p>In most cases, MongoDB should be accessed only from certain trusted locations, such as another server hosting an application. To accomplish this task, you can allow access on MongoDB’s default port while specifying the IP address of another server that will be explicitly allowed to connect.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ufw allow from your_other_server_ip/32 to any port 27017</div></pre></td></tr></table></figure>
<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/cron.d/mongodb-backup</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@daily root mkdir -p /var/backups/mongodb; mongodump --db todos(db名称) --out /var/backups/mongodb/$(date +&apos;\%Y-\%m-\%d&apos;)</div></pre></td></tr></table></figure>
<h2 id="条件操作符"><a href="#条件操作符" class="headerlink" title="条件操作符"></a>条件操作符</h2><ul>
<li>大于     - $gt</li>
<li>小于     - $lt</li>
<li>大于等于  - $gte</li>
<li>小于等于  - $lte</li>
</ul>
<h2 id="实验课程"><a href="#实验课程" class="headerlink" title="实验课程"></a>实验课程</h2><p>启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo service mongodb start</div><div class="line">$ mongo</div></pre></td></tr></table></figure>
<h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; use test            #连接到test数据库</div><div class="line">&gt; db.dropDatabase()   #删除数据库</div></pre></td></tr></table></figure>
<ul>
<li>一个mongoDB可以创建多个数据库</li>
<li>使用show dbs可以查看所有数据库的列表（刚建立的空数据库不会显示）</li>
<li>执行db命令则可以查看当前数据库对象或者集合</li>
<li>运行use命令可以连接到指定的数据库</li>
</ul>
<h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><p>文档是mongoDB的核心，类似于SQLite数据库（关系数据库）中的每一行数据。多个键及其关联的值放在一起就是文档。在mongodb中使用一种类json的bson存储数据，bson数据可以理解为在json的基础上添加了一些json中没有的数据类型。例如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="attr">"company"</span>:<span class="string">"Chenshi keji"</span>&#125;</div></pre></td></tr></table></figure>
<p>文档的关系</p>
<ul>
<li>嵌入：将两个文档分开，通过引用文档的_id字段来建立关系</li>
<li>引用：将两个文档分开，通过引用文档的_id字段来建立关系</li>
</ul>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>集合就是一组文档的组合，就相当于是关系数据库中的表，在mongodb中可以存储不同的文档结构的文档 例:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="attr">"company"</span>:<span class="string">"Chenshi keji"</span>&#125; &#123;<span class="attr">"people"</span>:<span class="string">"man"</span>,<span class="attr">"name"</span>:<span class="string">"peter"</span>&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; db.createCollection(&quot;users&quot;) # 创建集合</div><div class="line">&gt; show collections</div><div class="line">&gt; db.users.drop() # 删除 users 集合</div></pre></td></tr></table></figure>
<p>上面两个文档就可以存储在同一个集合中</p>
<h3 id="元数据"><a href="#元数据" class="headerlink" title="元数据"></a>元数据</h3><p>数据库的信息存储在集合中，他们统一使用系统的命名空间：DBNAME.system.* DBNAME可用db或数据库名替代</p>
<p>DBNAME.system.namespaces ：列出所有名字空间<br>DBNAME.system.indexs ：列出所有索引<br>DBNAME.system.profile ：列出数据库概要信息<br>DBNAME.system.users ：列出访问数据库的用户<br>DBNAME.system.sources ：列出服务器信息</p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/mongodb/" rel="tag">#mongodb</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/07/05/zsh.html" rel="next" title="zsh">
                <i class="fa fa-chevron-left"></i> zsh
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/08/photoshop-cs6-osx.html" rel="prev" title="photoshop-cs6-osx">
                photoshop-cs6-osx <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/07/06/mongodb.html"
           data-title="mongodb" data-url="http://haobing.wang/2016/07/06/mongodb.html">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="王浩冰" />
          <p class="site-author-name" itemprop="name">王浩冰</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">203</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">289</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#常用操作"><span class="nav-number">1.</span> <span class="nav-text">常用操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#新增字段并设置默认值"><span class="nav-number">1.1.</span> <span class="nav-text">新增字段并设置默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询-count"><span class="nav-number">1.2.</span> <span class="nav-text">查询 count</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据查询"><span class="nav-number">2.</span> <span class="nav-text">数据查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-queries-with-find"><span class="nav-number">2.1.</span> <span class="nav-text">Making queries with find()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AND"><span class="nav-number">2.2.</span> <span class="nav-text">AND</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OR"><span class="nav-number">2.3.</span> <span class="nav-text">OR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同时使用-AND-和-OR"><span class="nav-number">2.4.</span> <span class="nav-text">同时使用 AND 和 OR</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mac-OS-安装-mongodb"><span class="nav-number">3.</span> <span class="nav-text">Mac OS 安装 mongodb</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用命令"><span class="nav-number">4.</span> <span class="nav-text">常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#清空集合"><span class="nav-number">5.</span> <span class="nav-text">清空集合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#服务"><span class="nav-number">6.</span> <span class="nav-text">服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户及密码"><span class="nav-number">7.</span> <span class="nav-text">用户及密码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Adjusting-the-Firewall"><span class="nav-number">8.</span> <span class="nav-text">Adjusting the Firewall</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#备份"><span class="nav-number">9.</span> <span class="nav-text">备份</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#条件操作符"><span class="nav-number">10.</span> <span class="nav-text">条件操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实验课程"><span class="nav-number">11.</span> <span class="nav-text">实验课程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据库"><span class="nav-number">11.1.</span> <span class="nav-text">数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文档"><span class="nav-number">11.2.</span> <span class="nav-text">文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#集合"><span class="nav-number">11.3.</span> <span class="nav-text">集合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#元数据"><span class="nav-number">11.4.</span> <span class="nav-text">元数据</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2017</span>
  <a href="http://haobing.wang">王浩冰</a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/libs/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/libs/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/libs/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/libs/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/libs/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/libs/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"haobing"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  






  
  
  

  

  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


</body>
</html>
