<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />











  
  
  <link href="/libs/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/libs/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />









  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="王浩冰">
<meta property="og:url" content="http://haobing.wang/page/15/index.html">
<meta property="og:site_name" content="王浩冰">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="王浩冰">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://haobing.wang/page/15/"/>


  <title> 王浩冰 -  </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-80189438-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?abbbb302d25b6fcf3d2dad737df52139";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <div style="display: none;">
    <script src="//s6.cnzz.com/stat.php?id=1259577898&web_id=1259577898" type="text/javascript"></script>
  </div>





  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">王浩冰</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/06/mongodb.html" itemprop="url">
                  mongodb
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-06T22:54:44+08:00" content="2016-07-06">
              2016-07-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/06/mongodb.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/06/mongodb.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><h3 id="新增字段并设置默认值"><a href="#新增字段并设置默认值" class="headerlink" title="新增字段并设置默认值"></a>新增字段并设置默认值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 例如新增 deleted 字段，默认值为 false</div><div class="line">db.staffs.update(&#123;&#125;,&#123;$set:&#123;deleted:false&#125;&#125;,false,true)</div><div class="line"># 将所有员工生日定义为同一天</div><div class="line">db.staffs.update(&#123;&#125;,&#123;$set:&#123;birthday:&apos;1991-11-26T02:17:23.000Z&apos;&#125;&#125;,false,true)</div></pre></td></tr></table></figure>
<h3 id="查询-count"><a href="#查询-count" class="headerlink" title="查询 count"></a>查询 count</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">db.staffs.count(&#123;deleted: false&#125;)</div></pre></td></tr></table></figure>
<h2 id="数据查询"><a href="#数据查询" class="headerlink" title="数据查询"></a>数据查询</h2><h3 id="Making-queries-with-find"><a href="#Making-queries-with-find" class="headerlink" title="Making queries with find()"></a>Making queries with find()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">collection.find(query[[[, fields], options], callback]);</div></pre></td></tr></table></figure>
<ul>
<li>collection.find(query, callback);</li>
<li>collection.find(query, options, callback);</li>
<li>collection.find(query, fields, options, callback);</li>
</ul>
<p>Where</p>
<ul>
<li>query - is a query object, defining the conditions the documents need to apply</li>
<li>fields - indicates which fields should be included in the response (default is all)</li>
<li>options - defines extra logic (sorting options, paging etc.)</li>
<li>raw - driver returns documents as bson binary Buffer objects, default:false</li>
<li>callback has two parameters - an error object (if an error occured) and a cursor object.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">collection.find(&#123;&#125;,&#123;<span class="attr">name</span>: <span class="literal">true</span>, <span class="attr">title</span>: <span class="literal">true</span>&#125;,)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">collection.find(&#123;<span class="string">"books.year"</span>:<span class="number">1714</span>&#125;)</div><div class="line"></div><div class="line">collection.findOne(&#123;<span class="attr">_id</span>: doc_id&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, document</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">document</span>.name);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="AND"><a href="#AND" class="headerlink" title="AND"></a>AND</h3><p>当 find() 中传入多个键值对时，MongoDB就会将其作为 AND 查询处理。用法：</p>
<p>db.mycol.find({ key1: value1, key2: value2 }).pretty()</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; db.post.find(&#123;&quot;by&quot;:&quot;shiyanlou&quot;,&quot;title&quot;: &quot;MongoDB Overview&quot;&#125;).pretty()</div></pre></td></tr></table></figure>
<h3 id="OR"><a href="#OR" class="headerlink" title="OR"></a>OR</h3><p>MongoDB中，OR 查询语句以 $or 作为关键词，用法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; db.post.find(</div><div class="line">   &#123;</div><div class="line">      $or: [</div><div class="line">         &#123;key1: value1&#125;, &#123;key2:value2&#125;</div><div class="line">      ]</div><div class="line">   &#125;</div><div class="line">).pretty()</div></pre></td></tr></table></figure>
<h3 id="同时使用-AND-和-OR"><a href="#同时使用-AND-和-OR" class="headerlink" title="同时使用 AND 和 OR"></a>同时使用 AND 和 OR</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; db.post.find(&#123;</div><div class="line">    &quot;likes&quot;: &#123;$gt:10&#125;,</div><div class="line">    $or: [</div><div class="line">        &#123;&quot;by&quot;: &quot;shiyanlou&quot;&#125;,</div><div class="line">        &#123;&quot;title&quot;: &quot;MongoDB Overview&quot;&#125;</div><div class="line">    ]</div><div class="line">&#125;).pretty()</div></pre></td></tr></table></figure>
<h2 id="Mac-OS-安装-mongodb"><a href="#Mac-OS-安装-mongodb" class="headerlink" title="Mac OS 安装 mongodb"></a>Mac OS 安装 mongodb</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">brew update</div><div class="line">brew install mongodb</div></pre></td></tr></table></figure>
<p>在启动 MongoDB 之前，需要创建一个用来存储 MongoDB 数据的目录。MongoDB 数据的默认存放位置是 <code>/data/db</code> （也需要手动创建）目录下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">To have launchd start mongodb now and restart at login:</div><div class="line">  brew services start mongodb</div><div class="line">Or, if you don&apos;t want/need a background service you can just run:</div><div class="line">  mongod --config /usr/local/etc/mongod.conf</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo mkdir -p /data/db</div><div class="line">mongod --dbpath /data/db</div><div class="line">mongod</div></pre></td></tr></table></figure>
<p>也可以更改为其它地方，比如说当前用户目录下，新建一个 data/db 目录用来存放 MongoDB 的数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd ~</div><div class="line">mkdir -p data/db</div><div class="line">mongod --dbpath ~/data/db</div></pre></td></tr></table></figure>
<p>查看帮助文档</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod -h</div></pre></td></tr></table></figure>
<p><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank" rel="external">安装文档</a></p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"># 进入 mongo shell</div><div class="line">mongo</div><div class="line"></div><div class="line"># 辅助命令</div><div class="line">db.help();</div><div class="line">db.getName();</div><div class="line"></div><div class="line"># 切换/创建数据库</div><div class="line">use site # 对应 export MONGO_URL=mongodb://localhost:27017/site</div><div class="line"></div><div class="line">db.createCollection(&apos;users&apos;);</div><div class="line">db.users.insert(&#123; name: &apos;peter&apos; &#125;);</div><div class="line">db.users.find();</div><div class="line"></div><div class="line"># 退出 mongo</div><div class="line">exit</div></pre></td></tr></table></figure>
<h2 id="清空集合"><a href="#清空集合" class="headerlink" title="清空集合"></a>清空集合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">db.rules.remove(&#123;&#125;)</div></pre></td></tr></table></figure>
<h2 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo service mongod start</div><div class="line">sudo service mongod stop</div><div class="line">sudo service mongod restart</div></pre></td></tr></table></figure>
<h2 id="用户及密码"><a href="#用户及密码" class="headerlink" title="用户及密码"></a>用户及密码</h2><p>MongoDB协议</p>
<h2 id="Adjusting-the-Firewall"><a href="#Adjusting-the-Firewall" class="headerlink" title="Adjusting the Firewall"></a>Adjusting the Firewall</h2><p>To allow access to MongoDB on its default port <code>27017</code> from everywhere, you could use <code>sudo ufw allow 27017</code>. However, enabling internet access to MongoDB server on a default installation gives unrestricted access to the whole database server.</p>
<p>In most cases, MongoDB should be accessed only from certain trusted locations, such as another server hosting an application. To accomplish this task, you can allow access on MongoDB’s default port while specifying the IP address of another server that will be explicitly allowed to connect.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ufw allow from your_other_server_ip/32 to any port 27017</div></pre></td></tr></table></figure>
<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/cron.d/mongodb-backup</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@daily root mkdir -p /var/backups/mongodb; mongodump --db todos(db名称) --out /var/backups/mongodb/$(date +&apos;\%Y-\%m-\%d&apos;)</div></pre></td></tr></table></figure>
<h2 id="条件操作符"><a href="#条件操作符" class="headerlink" title="条件操作符"></a>条件操作符</h2><ul>
<li>大于     - $gt</li>
<li>小于     - $lt</li>
<li>大于等于  - $gte</li>
<li>小于等于  - $lte</li>
</ul>
<h2 id="实验课程"><a href="#实验课程" class="headerlink" title="实验课程"></a>实验课程</h2><p>启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo service mongodb start</div><div class="line">$ mongo</div></pre></td></tr></table></figure>
<h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; use test            #连接到test数据库</div><div class="line">&gt; db.dropDatabase()   #删除数据库</div></pre></td></tr></table></figure>
<ul>
<li>一个mongoDB可以创建多个数据库</li>
<li>使用show dbs可以查看所有数据库的列表（刚建立的空数据库不会显示）</li>
<li>执行db命令则可以查看当前数据库对象或者集合</li>
<li>运行use命令可以连接到指定的数据库</li>
</ul>
<h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><p>文档是mongoDB的核心，类似于SQLite数据库（关系数据库）中的每一行数据。多个键及其关联的值放在一起就是文档。在mongodb中使用一种类json的bson存储数据，bson数据可以理解为在json的基础上添加了一些json中没有的数据类型。例如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="attr">"company"</span>:<span class="string">"Chenshi keji"</span>&#125;</div></pre></td></tr></table></figure>
<p>文档的关系</p>
<ul>
<li>嵌入：将两个文档分开，通过引用文档的_id字段来建立关系</li>
<li>引用：将两个文档分开，通过引用文档的_id字段来建立关系</li>
</ul>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>集合就是一组文档的组合，就相当于是关系数据库中的表，在mongodb中可以存储不同的文档结构的文档 例:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="attr">"company"</span>:<span class="string">"Chenshi keji"</span>&#125; &#123;<span class="attr">"people"</span>:<span class="string">"man"</span>,<span class="attr">"name"</span>:<span class="string">"peter"</span>&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; db.createCollection(&quot;users&quot;) # 创建集合</div><div class="line">&gt; show collections</div><div class="line">&gt; db.users.drop() # 删除 users 集合</div></pre></td></tr></table></figure>
<p>上面两个文档就可以存储在同一个集合中</p>
<h3 id="元数据"><a href="#元数据" class="headerlink" title="元数据"></a>元数据</h3><p>数据库的信息存储在集合中，他们统一使用系统的命名空间：DBNAME.system.* DBNAME可用db或数据库名替代</p>
<p>DBNAME.system.namespaces ：列出所有名字空间<br>DBNAME.system.indexs ：列出所有索引<br>DBNAME.system.profile ：列出数据库概要信息<br>DBNAME.system.users ：列出访问数据库的用户<br>DBNAME.system.sources ：列出服务器信息</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/05/zsh.html" itemprop="url">
                  zsh
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-05T11:40:30+08:00" content="2016-07-05">
              2016-07-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/05/zsh.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/05/zsh.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iTerm2-zsh-oh-my-zsh-agnoster"><a href="#iTerm2-zsh-oh-my-zsh-agnoster" class="headerlink" title="iTerm2 + zsh + oh-my-zsh + agnoster"></a>iTerm2 + zsh + oh-my-zsh + agnoster</h1><h2 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># 查看当前 shell</div><div class="line">echo $SHELL</div><div class="line"># 查看可用 shell</div><div class="line">cat /etc/shells</div><div class="line"># Make it your default shell</div><div class="line">chsh -s $(which zsh)</div><div class="line"># Log out and login back again to use your new default shell.</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">echo $SHELL</div><div class="line"># Expected result: /bin/zsh</div></pre></td></tr></table></figure>
<h2 id="brew"><a href="#brew" class="headerlink" title="brew"></a><a href="http://brew.sh/" target="_blank" rel="external">brew</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># brew install 安装命令行程序</div><div class="line">brew install zsh</div></pre></td></tr></table></figure>
<h2 id="brew-cask"><a href="#brew-cask" class="headerlink" title="brew cask"></a><a href="https://caskroom.github.io/" target="_blank" rel="external">brew cask</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># brew cask install 安装GUI程序</div><div class="line">brew cask install iterm2</div></pre></td></tr></table></figure>
<h2 id="Install-oh-my-zsh"><a href="#Install-oh-my-zsh" class="headerlink" title="Install oh-my-zsh"></a><a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="external">Install oh-my-zsh</a></h2><h2 id="调整主题"><a href="#调整主题" class="headerlink" title="调整主题"></a>调整主题</h2><p><code>~/.zshrc</code> 主题设置为 <code>agnoster</code></p>
<h2 id="安装Meslo-Powerline字体"><a href="#安装Meslo-Powerline字体" class="headerlink" title="安装Meslo-Powerline字体"></a>安装Meslo-Powerline字体</h2><ul>
<li><a href="https://github.com/powerline/fonts/blob/master/Meslo/Meslo%20LG%20M%20DZ%20Regular%20for%20Powerline.otf" target="_blank" rel="external">Downloads</a></li>
<li>点击安装</li>
<li>iTerm2 中调整字体为 Meslo-Powerline</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/04/You-Dont-Need-jQuery.html" itemprop="url">
                  You-Dont-Need-jQuery
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-04T17:22:31+08:00" content="2016-07-04">
              2016-07-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/04/You-Dont-Need-jQuery.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/04/You-Dont-Need-jQuery.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>你可能不需要 jQuery (You Might Not Need jQuery)</p>
<p><a href="https://github.com/oneuijs/You-Dont-Need-jQuery/blob/master/README.zh-CN.md" target="_blank" rel="external">详情点击</a></p>
<p>如何使用原生 JavaScript 实现通用事件，元素，ajax 等用法。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/30/palette.html" itemprop="url">
                  色盘
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-30T11:56:38+08:00" content="2016-06-30">
              2016-06-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/30/palette.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/30/palette.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.materialpalette.com/" target="_blank" rel="external">色盘生成器</a></p>
<p>第一个颜色选择主色调 primary color<br>第一个颜色选择强调色 accent color</p>
<p>下载色盘文件</p>
<p>Q:把SASS格式的色盘变量复制到main.scss之后，保存，一直处于监视状态的gulp终端就报错<br>A:色盘直接复制过来确实有问题，每一行后面要都添加 ; 才可以。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/29/ci.html" itemprop="url">
                  持续集成
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-29T10:29:24+08:00" content="2016-06-29">
              2016-06-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/29/ci.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/29/ci.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Travis"><a href="#Travis" class="headerlink" title="Travis"></a>Travis</h2><p>开源项目使用Travis进行持续集成，同Github配合使用。<a href="https://travis-ci.org/getting_started" target="_blank" rel="external">详情</a><br>在 README.md 中添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[![Build Status](https://travis-ci.org/hobartwang/app.svg?branch=develop)](https://travis-ci.org/hobartwang/app)</div></pre></td></tr></table></figure>
<h2 id="Jenkins"><a href="#Jenkins" class="headerlink" title="Jenkins"></a>Jenkins</h2><p>私人项目使用Jenkins进行持续集成，自己搭建。<a href="https://jenkins.io/" target="_blank" rel="external">详情</a></p>
<h2 id="Circleci"><a href="#Circleci" class="headerlink" title="Circleci"></a>Circleci</h2><p>Meteor 项目也在使用，<a href="https://circleci.com" target="_blank" rel="external">详情</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/menubar.html" itemprop="url">
                  menubar
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-27T09:42:53+08:00" content="2016-06-27">
              2016-06-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/27/menubar.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/27/menubar.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>// 获取当前值(Chrome console 中也可直接运行)<br><code>$(document).scrollTop()</code></p>
<p>// 设置当前值<br><code>$(document).scrollTop(100)</code></p>
<p>jQuery 代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>($(<span class="built_in">document</span>).scrollTop() &gt; <span class="number">50</span>)&#123;</div><div class="line">  $(<span class="string">'.menubar'</span>).addClass(<span class="string">'accent-color-bg'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>原生</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> scrollTop = (<span class="built_in">document</span>.documentElement &amp;&amp; <span class="built_in">document</span>.documentElement.scrollTop) || <span class="built_in">document</span>.body.scrollTop;</div><div class="line"><span class="keyword">if</span>(scrollTop &gt; <span class="number">50</span>)&#123;</div><div class="line">  $(<span class="string">'.menubar'</span>).addClass(<span class="string">'accent-color-bg'</span>);</div><div class="line">  <span class="built_in">document</span>.getElementsByClassName(<span class="string">'css'</span>).classList.add(<span class="string">'accent-color-bg'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/26/alias.html" itemprop="url">
                  alias
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-26T10:45:20+08:00" content="2016-06-26">
              2016-06-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/26/alias.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/26/alias.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简化命令"><a href="#简化命令" class="headerlink" title="简化命令"></a>简化命令</h2><p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alias la=&apos;ls -a&apos;</div></pre></td></tr></table></figure>
<p>删除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unalias la</div></pre></td></tr></table></figure>
<p>查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alias</div></pre></td></tr></table></figure>
<h2 id="将-alias-固化"><a href="#将-alias-固化" class="headerlink" title="将 alias 固化"></a>将 alias 固化</h2><p>永久添加，添加到 <code>.zshrc</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">alias la=&apos;ls -a&apos;</div><div class="line">alias gopi=&quot;ssh pi@192.168.1.110&quot;</div><div class="line">alias zshconfig=&quot;vi ~/.zshrc&quot;</div></pre></td></tr></table></figure>
<p>更新环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">source ~/.zshrc</div></pre></td></tr></table></figure>
<h2 id="高级应用"><a href="#高级应用" class="headerlink" title="高级应用"></a>高级应用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">alias cls=&apos;clear&apos;</div><div class="line">alias ll=&apos;ls -l&apos;</div><div class="line">alias la=&apos;ls -a&apos;</div><div class="line">alias vi=&apos;vim&apos;</div><div class="line">alias grep=&quot;grep --color=auto&quot;</div><div class="line"></div><div class="line">alias -s py=vi</div><div class="line">alias -s js=vi</div><div class="line">alias -s gz=&apos;tar -xzvf&apos;</div><div class="line">alias -s tgz=&apos;tar -xzvf&apos;</div><div class="line">alias -s zip=&apos;unzip&apos;</div><div class="line">alias -s bz2=&apos;tar -xjvf&apos;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/25/scp.html" itemprop="url">
                  scp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-25T10:57:47+08:00" content="2016-06-25">
              2016-06-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/25/scp.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/25/scp.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="下载目录"><a href="#下载目录" class="headerlink" title="下载目录"></a>下载目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp -r username@host:~/posts_bak posts</div></pre></td></tr></table></figure>
<h2 id="上传目录"><a href="#上传目录" class="headerlink" title="上传目录"></a>上传目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">scp -r posts username@host:~/</div><div class="line"></div><div class="line"># 指定端口号</div><div class="line">scp -P 25000 -r posts username@host:~/</div></pre></td></tr></table></figure>
<h2 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp username@www.domainname.com:~/app.tar.gz app.tar.gz</div></pre></td></tr></table></figure>
<h2 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp app.tar.gz username@www.domainname.com:~/</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/24/web-flow.html" itemprop="url">
                  web 工作流
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-24T10:57:18+08:00" content="2016-06-24">
              2016-06-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/24/web-flow.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/24/web-flow.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>web 响应式开发工作流</p>
<p>开发思路：移动优先（先开发手机端的，在逐步向大屏过渡）</p>
<p>技术栈：</p>
<ul>
<li>node</li>
<li>gulp<ul>
<li>gulp-autoprefixer</li>
<li>gulp-sass</li>
<li>gulp-wrap</li>
<li>gulp-imagemin</li>
</ul>
</li>
<li>browsersync 实现多设备同步调试，页面自动加载等功能</li>
<li>flexbox</li>
<li>react</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mkdir app</div><div class="line">cd app</div><div class="line">npm init</div><div class="line">npm i -D gulp gulp-sass gulp-autoprefixer</div><div class="line">touch gulpfile.js</div></pre></td></tr></table></figure>
<p>添加如下内容:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var gulp = require('gulp');</div><div class="line">var sass = require('gulp-sass');</div><div class="line">var prefix = require('gulp-autoprefixer');</div><div class="line"></div><div class="line">gulp.task('sass', function() &#123;</div><div class="line">  gulp.src('source/style/main.scss')</div><div class="line">    .pipe(sass())</div><div class="line">    .pipe(prefix())</div><div class="line">    .pipe(gulp.dest('dist/style'));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>创建目录/文件 <code>source/style/main.scss</code></p>
<p>执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gulp sass</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/23/flex.html" itemprop="url">
                  Flex 布局
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-23T13:29:51+08:00" content="2016-06-23">
              2016-06-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/23/flex.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/23/flex.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="传统布局解决方案"><a href="#传统布局解决方案" class="headerlink" title="传统布局解决方案"></a>传统布局解决方案</h2><p>布局的传统解决方案，基于盒状模型，依赖 display属性 + position属性 + float属性。它对于那些特殊布局非常不方便，比如，垂直居中就不容易实现。</p>
<h2 id="Flex-布局"><a href="#Flex-布局" class="headerlink" title="Flex 布局"></a>Flex 布局</h2><p>2009年，W3C提出了一种新的方案——Flex布局，可以简便、完整、响应式地实现各种页面布局。目前，它已经得到了所有浏览器的支持，这意味着，现在就能很安全地使用这项功能。</p>
<p>Flex布局将成为未来布局的首选方案。</p>
<h2 id="Flex布局是什么？"><a href="#Flex布局是什么？" class="headerlink" title="Flex布局是什么？"></a>Flex布局是什么？</h2><p>Flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。任何一个容器都可以指定为Flex布局。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">	<span class="attribute">display</span>: flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>行内元素也可以使用 Flex 布局：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">	<span class="attribute">display</span>: inline-flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>注意</strong> ：设为 Flex 布局以后，子元素的 <code>float</code>、<code>clear</code>、<code>vertical-align</code> 属性将失效。</p>
<h2 id="Flex-相关概念"><a href="#Flex-相关概念" class="headerlink" title="Flex 相关概念"></a>Flex 相关概念</h2><ul>
<li>容器，<code>display: flex</code> 的元素称为 Flex 容器，通常都是在 <code>div</code> 上添加该属性。</li>
<li>容器成员，Flex 容器的所有子元素自动称为容器成员(flex item)</li>
<li>容器成员默认从左到右排序</li>
<li>轴，容器默认存在两根轴：水平的主轴(main axis) 和交叉轴(cross axis)。<ul>
<li>主轴的开始位置叫 <code>main start</code>，结束位置叫做 <code>main end</code>。</li>
<li>交叉轴的开始位置叫做 <code>cross start</code> ，结束位置叫做 <code>cross end</code>。</li>
</ul>
</li>
</ul>
<h2 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h2><h3 id="flex-direction-主轴方向"><a href="#flex-direction-主轴方向" class="headerlink" title="flex-direction 主轴方向"></a>flex-direction 主轴方向</h3><ul>
<li>row 水平排列(默认值)</li>
<li>row-reverse 水平排列，反向</li>
<li>column 垂直排列</li>
<li>column-reverse 垂直排列，反向</li>
</ul>
<h3 id="flex-wrap-是否换行"><a href="#flex-wrap-是否换行" class="headerlink" title="flex-wrap 是否换行"></a>flex-wrap 是否换行</h3><ul>
<li>nowrap （默认）不换行</li>
<li>wrap 换行</li>
<li>wrap-reverse 换行，反向</li>
</ul>
<p>flex-flow 是 flex-direction 属性和 flex-wrap 属性的简写形式，默认值为 <code>row nowrap</code></p>
<h3 id="justify-content-属性定义了成员在主轴上的对齐方式。"><a href="#justify-content-属性定义了成员在主轴上的对齐方式。" class="headerlink" title="justify-content 属性定义了成员在主轴上的对齐方式。"></a>justify-content 属性定义了成员在主轴上的对齐方式。</h3><ul>
<li>flex-start:左对齐(默认值)</li>
<li>flex-end:右对齐</li>
<li>center:居中</li>
<li>space-between:两端对齐，项目之间的间隔都相等。</li>
<li>space-around:每个项目两侧的间隔相等。</li>
</ul>
<h3 id="align-items-属性定义了项目在交叉轴上的对齐方式。"><a href="#align-items-属性定义了项目在交叉轴上的对齐方式。" class="headerlink" title="align-items 属性定义了项目在交叉轴上的对齐方式。"></a>align-items 属性定义了项目在交叉轴上的对齐方式。</h3><ul>
<li>flex-start:交叉轴起点对齐</li>
<li>flex-end:交叉轴终点对齐</li>
<li>center:交叉轴终点对齐</li>
<li>baseline:项目的第一行文字对齐</li>
<li>stretch:如果容器成员未设置高度或设为auto，将占满整个容器的高度。</li>
</ul>
<h3 id="align-content-属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。"><a href="#align-content-属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。" class="headerlink" title="align-content 属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。"></a>align-content 属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</h3><h2 id="容器成员的属性"><a href="#容器成员的属性" class="headerlink" title="容器成员的属性"></a>容器成员的属性</h2><ul>
<li><code>flex-grow</code> 1放大；0不放大；默认为0，不放大；</li>
<li><code>flex-shrink</code> 1收缩，0不收缩；默认为1，收缩；</li>
<li><code>flex-basis</code> 属性定义了在分配多余空间之前，成员占据的主轴空间，默认值为auto</li>
<li><code>order</code> 定义成员排列顺序。数值越小，排列越靠前，默认0。</li>
<li><code>flex</code> 是<code>flex-grow</code>,<code>flex-shrink</code>和<code>flex-basis</code>的简写。默认值为<code>0 1 auto</code>，即”不放大，可缩小，主轴空间自动分配”。</li>
<li><code>align-self</code> 允许单个成员覆盖容器定义的交叉轴的样式。<ul>
<li>auto</li>
<li>flex-start</li>
<li>flex-end</li>
<li>center</li>
<li>baseline</li>
<li>stretch</li>
</ul>
</li>
</ul>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>对搜索引擎的快照，对 flex 布局支持不是很友好。实际使用中，百度、360的快照中，flex 布局都会散乱。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/16/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="王浩冰" />
          <p class="site-author-name" itemprop="name">王浩冰</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">184</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">260</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2017</span>
  <a href="http://haobing.wang">王浩冰</a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/libs/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/libs/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/libs/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/libs/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/libs/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/libs/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"haobing"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  






  
  
  

  

  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


</body>
</html>
